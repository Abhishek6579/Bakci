<!DOCTYPE html>
<html lang="en">
<head></head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rock Paper Scissors</title>
<style>
    button {
        font-size: 20px;
        padding: 10px 20px;
        margin: 10px;
    }

    p {
        font-size: 24px;
        font-weight: bold;
    }
</style>
</head>

<body>
    <p>Rock Paper Scissors</p>

    <button onclick="pickComputerMove(); playGame('rock');">Rock</button>
    <button onclick="pickComputerMove(); playGame('paper');">Paper</button>
    <button onclick="pickComputerMove(); playGame('scissors');">Scissors</button>
    <button onclick="alert(`Wins ${score.win}. Loss: ${score.loss}. Tie: ${score.tie}`);">Check Score</button>
    <button onclick="
    score.win=0;
    score.loss=0;
    score.tie=0;
    alert(`Score has been reset \nWins ${score.win}. Loss: ${score.loss}. Tie: ${score.tie}`); 
    localStorage.removeItem('score');
    ">Reset Score</button>

    <script>
        let randomNumber;
        let computerMove = '';
        let result = '';
        let score = JSON.parse(localStorage.getItem('score')) || {
                win:0,
                loss:0,
                tie:0
            };

        
        /*if(!score){ //Falsy value null This code can also be written by using default || as above
            score = {
                win:0,
                loss:0,
                tie:0
            };
        }*/
        console.log(score);

        function pickComputerMove() {
            randomNumber = Math.random();
            if (randomNumber <= 1 / 3)
                computerMove = 'rock';
            else if (randomNumber > 1 / 3 && randomNumber < 2 / 3)
                computerMove = 'paper';
            else
                computerMove = 'scissors';
            return computerMove;
        }

        function playGame(playerMove) {
            if (playerMove === 'scissors') {
                if (computerMove === 'rock')
                    result = 'You lose';
                else if (computerMove === 'paper')
                    result = 'You win';
                else
                    result = 'Tie';
            }
            else if (playerMove === 'rock') {
                if (computerMove === 'rock')
                    result = 'tie';
                else if (computerMove === 'paper')
                    result = 'You lose';
                else
                    result = 'You win';
            }
            else if (playerMove === 'paper') {
                if (computerMove === 'rock')
                    result = 'You win';
                else if (computerMove === 'paper')
                    result = 'Tie';
                else
                    result = 'You lose';
            }
            if (result === 'You win')
                score.win++;
            else if (result === 'You lose')
                score.loss++;
            else
                score.tie++;
            localStorage.setItem('score',JSON.stringify(score));
            alert(`You picked ${playerMove} computer picked ${computerMove}. ${result} \nWins ${score.win}. Loss: ${score.loss}. Tie: ${score.tie}`);

        }
       
    </script>

</body>
</html>